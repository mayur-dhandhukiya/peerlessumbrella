(()=>{"use strict";var e,c={637:()=>{const e=window.wp.blocks,c=window.wp.components,o=window.ReactJSXRuntime,l=()=>(0,o.jsx)(c.Icon,{className:"wpcp-block-icon",icon:()=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 481 429.77",children:[(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",transform:"translate(-1.42 -2.61)",children:(0,o.jsx)("path",{d:"M0 0h31.33v31.33H0z",class:"a"})})}),(0,o.jsxs)("g",{class:"b","clip-path":"url(#a)",transform:"scale(16.88075)",children:[(0,o.jsx)("path",{fill:"#0066da",d:"M2.15 21.82l1.26 2.17a2.97 2.97 0 001.08 1.08l4.5-7.77H0a2.96 2.96 0 00.4 1.47z",class:"c"}),(0,o.jsx)("path",{fill:"#00ac47",d:"M14.25 8.16L9.75.39a2.97 2.97 0 00-1.07 1.08L.4 15.83A2.96 2.96 0 000 17.3h8.98z",class:"d"}),(0,o.jsx)("path",{fill:"#00832d",d:"M14.25 8.16L18.73.39a2.87 2.87 0 00-1.46-.4h-6.04a3.03 3.03 0 00-1.47.4z",class:"e"}),(0,o.jsx)("path",{fill:"#2684fc",d:"M19.52 17.3H8.98l-4.5 7.77a2.87 2.87 0 001.48.39h16.58a3.03 3.03 0 001.47-.4z",class:"f"}),(0,o.jsx)("path",{fill:"#ea4335",d:"M24 25.07a2.97 2.97 0 001.08-1.08l.52-.9 2.5-4.32a2.96 2.96 0 00.4-1.47h-8.96z",class:"g"}),(0,o.jsx)("path",{fill:"#ffba00",d:"M23.96 8.65L19.8 1.47A2.96 2.96 0 0018.74.39l-4.5 7.77 5.28 9.14h8.96a2.96 2.96 0 00-.4-1.47z",class:"h"})]})]})}),n=(window.React,window.wp.element),t=window.wp.blockEditor,s=e=>{const{icon:l,title:s,slug:i,description:r,attributes:{shortcode:a=""},setAttributes:d,clientId:p,global:u}=e,[h,w]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!0),[v,j]=(0,n.useState)(!1),m=(0,n.useRef)(null),f="wpcp-callback-"+p;let k;function g(e){d({shortcode:e}),b(!0)}function y(){w(!0)}function C(){w(!1)}function F(){b(!x)}function M(){const e=u.modules,c=[{label:u.i18n.createModule,value:"new"}];return Object.keys(e).forEach((o=>{c.push({label:e[o].title,value:e[o].id})})),c}function B(){const e=new RegExp(`\\[${i} module="(.+?)"\\]`,"g").exec(a);return e&&e[1]>0?e[1]:0}function _(e){const c=m.current,o=WPCP_shortcodeEncode(a);let l=u.ajaxUrl+"?shortcode="+o;c&&(e&&(l+="&cache="+(new Date).getTime()),clearTimeout(k),k=setTimeout((()=>{c.src=l+"&action="+i+"-module-preview&_ajax_nonce="+u.wpnonce}),e?0:1e3))}(0,n.useEffect)((()=>{const e=""!==a&&!a.includes('module="new"');if(j(e),!1===e&&b(!1),!x&&!v)return;if(!m.current)return;_();const c=m.current,o=()=>{const e=(c.contentDocument||c.contentWindow.document).querySelector("div.wpcp-browser-container");e&&(e.style.maxHeight="unset");const o=c.contentWindow.document.body.offsetHeight+20;c.style.height=o>20?`${o}px`:"50vh"};c.addEventListener("load",o);const l=setInterval(o,1e3);return()=>{c.removeEventListener("load",o),clearInterval(l)}}),[a,x,v]),window[f]=function(e){g(e),C(),_(!0),wp.data.dispatch("core/notices").createNotice("success",u.i18n.updatedModule,{type:"snackbar"})};let N=[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.InspectorControls,{children:(0,o.jsx)(c.Panel,{children:(0,o.jsxs)(c.PanelBody,{title:u.i18n.module,initialOpen:!0,children:[(0,o.jsx)(c.PanelRow,{children:(0,o.jsx)(c.SelectControl,{value:B(),options:M(),onChange:e=>g(`[${i} module="${e}"]`),__nextHasNoMarginBottom:!0})}),(0,o.jsxs)(c.PanelRow,{children:[(0,o.jsx)(c.Button,{icon:"admin-generic",variant:"primary",size:"default",onClick:y,className:"wpcp-brand-color",children:u.i18n.openModuleBuilder}),v&&(0,o.jsx)(c.Button,{icon:"welcome-view-site",variant:"secondary",size:"default",onClick:F,disabled:B>0,children:x?u.i18n.hidePreview:u.i18n.showPreview})]}),(0,o.jsx)(c.PanelRow,{children:(0,o.jsx)(c.Notice,{status:"info",isDismissible:!1,children:u.i18n.moduleNotice})})]})})}),(0,o.jsx)(t.InspectorAdvancedControls,{children:(0,o.jsx)(c.TextareaControl,{label:"Custom Shortcode",value:a,rows:"10",className:"wpcp-block-textblock",onChange:g})}),(0,o.jsx)(t.BlockControls,{children:(0,o.jsxs)(c.ToolbarGroup,{children:[(0,o.jsx)(c.ToolbarButton,{icon:"admin-generic",label:u.i18n.openModuleBuilder,onClick:y,text:u.i18n.openModuleBuilder}),v&&(0,o.jsx)(c.ToolbarButton,{icon:"welcome-view-site",onClick:F,text:x?u.i18n.hidePreview:u.i18n.showPreview})]})})]})];return x&&N.push((0,o.jsxs)(c.Placeholder,{className:"wpcp-block-wrap wpcp-block-wrap-preview",isColumnLayout:!0,children:[(0,o.jsxs)(c.Flex,{direction:"row",gap:"1",justify:"center",children:[(0,o.jsx)(c.FlexItem,{children:(0,o.jsx)(c.Button,{icon:"admin-generic",variant:"secondary",size:"default",onClick:y,children:u.i18n.openModuleBuilder})}),(0,o.jsx)(c.FlexItem,{children:(0,o.jsx)(c.Button,{icon:"welcome-view-site",variant:"secondary",size:"default",onClick:F,children:u.i18n.hidePreview})})]}),v&&(0,o.jsx)("iframe",{ref:m,className:"wpcp-block-preview",width:"100%",style:{border:"none"}},"wpcp-block-preview")]},"wpcp-block-wrap")),x||N.push((0,o.jsxs)(c.Placeholder,{icon:l,className:"wpcp-block-wrap",isColumnLayout:!0,children:[(0,o.jsx)("div",{class:"wpcp-block-title",children:u.i18n.title}),(0,o.jsxs)(c.Flex,{direction:"row",gap:"1",justify:"center",children:[(0,o.jsx)(c.FlexItem,{children:(0,o.jsx)(c.SelectControl,{value:B(),options:M(),onChange:e=>g(`[${i} module="${e}"]`),__nextHasNoMarginBottom:!0})}),(0,o.jsx)(c.FlexItem,{children:(0,o.jsx)(c.Button,{icon:"admin-generic",variant:"primary",size:"default",onClick:y,className:"wpcp-brand-color",children:u.i18n.openModuleBuilder})})]}),""!==a&&!a.includes('module="new"')&&0===B()&&(0,o.jsx)(c.TextareaControl,{label:"Custom Shortcode",value:a,rows:"3",className:"wpcp-block-textblock",onChange:g})]},"wpcp-block-wrap")),h&&N.push((0,o.jsx)(c.Modal,{title:"",onRequestClose:C,shouldCloseOnClickOutside:!1,className:"wpcp-block-shortcode-builder-modal",children:(0,o.jsx)(c.FocusableIframe,{src:function(e){const c=WPCP_shortcodeEncode(e);return u.ajaxUrl+"?shortcode="+c+"&action="+i+"-getpopup&type=shortcodebuilder&callback="+f}(a)})})),(0,o.jsxs)("div",{className:"common-block",children:[l&&(0,o.jsx)("div",{className:"block-icon",children:l}),(0,o.jsx)("h2",{children:s}),(0,o.jsx)("p",{children:r}),N]})};wp.blocks.updateCategory("wpcp-blocks",{icon:()=>(0,o.jsx)(c.Icon,{className:"wpcp-block-icon",icon:()=>(0,o.jsxs)("svg",{width:"20",height:"20",role:"img",viewBox:"0 0 443.77 512",children:[(0,o.jsx)("path",{fill:"#512057",d:"M443.77,367.21l0-221.36c0-10.72-5.72-20.62-15-25.98L237.07,9.2c-9.28-5.36-20.72-5.36-30,0L15.37,119.88\r c-9.28,5.36-15,15.26-15,25.98l0,221.36c0,10.72,5.72,20.62,15,25.98l191.7,110.68c9.28,5.36,20.72,5.36,30,0l191.7-110.68\r C438.05,387.84,443.77,377.93,443.77,367.21z"}),(0,o.jsxs)("g",{id:"Symbol_1_",children:[(0,o.jsx)("path",{fill:"#FFFFFF",d:"M71.7,225.14c0,0,4.47-37.6,41.42-58.45c36.95-20.84,63-5.38,63-5.38s20.39-18.82,36.38-23.14\r c0,0,11.58-5.48,11.58,4.48v20.14c0,0,0.44,4.35-3.71,6.26c-4.15,1.91-20.43,8.67-32.13,27.75c0,0-3.65,4.99-8.69,1.85\r c0,0-33.84-26.54-65.67,7.8c0,0-12.44,11.66-11.06,33.19c0,0,1.94,9.95-5.2,10.58c-7.14,0.64-36.06,8.23-34.74,42.74\r c0,0,3.33,35.05,41.44,35.08l85.53,0.07v-45.52h-26.9c0,0-9.71,0.72-7.53-8.02c0,0,0.43-1.27,1.69-2.83l56.08-69.27\r c0,0,4.31-4.23,8.14-1.76c0,0,2.76,1.84,2.76,6.24v146.49c0,0,0.46,5.87-5.33,6.4H116.27c0,0-58.37,4.98-80.51-45.01\r C35.75,314.85,10.77,260.68,71.7,225.14z"}),(0,o.jsx)("path",{fill:"#FFFFFF",d:"M235.01,140.79c0,0-1.33-7.3,9.58-8.52c0,0,75.73-3.49,105.54,70.32c0,0,59.42,15.89,59.36,79.09\r c0,0,2.07,77.45-77.12,78.17h-87.95c0,0-9.51,2.09-9.45-7.98v-16.35c0,0-1-7.17,8.09-7.36h85.07c0,0,48.05,1.32,49.56-45.97\r c0,0,3.52-43.79-45.3-50.58c0,0-10.35,1.44-10.24-8.47c0.09-9.9-15.17-42.6-52.9-55.69v63.46h27.34c0,0,9.84-0.49,6.93,8.79\r l-56.69,70.21c0,0-9.98,9.39-11.9-3.24L235.01,140.79z"})]})]})})}),(0,e.registerBlockType)("wpcp/useyourdrive-block",{title:wpcp_useyourdrive_global.i18n.title,icon:l,description:wpcp_useyourdrive_global.i18n.description,category:"wpcp-blocks",keywords:wpcp_useyourdrive_global.i18n.keywords,attributes:{shortcode:{type:"string"}},edit:e=>(0,o.jsx)(s,{...e,slug:"useyourdrive",icon:l,global:wpcp_useyourdrive_global}),save:()=>null})}},o={};function l(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={exports:{}};return c[e](t,t.exports,l),t.exports}l.m=c,e=[],l.O=(c,o,n,t)=>{if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],t=e[d][2];for(var i=!0,r=0;r<o.length;r++)(!1&t||s>=t)&&Object.keys(l.O).every((e=>l.O[e](o[r])))?o.splice(r--,1):(i=!1,t<s&&(s=t));if(i){e.splice(d--,1);var a=n();void 0!==a&&(c=a)}}return c}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[o,n,t]},l.o=(e,c)=>Object.prototype.hasOwnProperty.call(e,c),(()=>{var e={756:0,207:0};l.O.j=c=>0===e[c];var c=(c,o)=>{var n,t,s=o[0],i=o[1],r=o[2],a=0;if(s.some((c=>0!==e[c]))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(r)var d=r(l)}for(c&&c(o);a<s.length;a++)t=s[a],l.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return l.O(d)},o=self.webpackChunkwpcp_blocks=self.webpackChunkwpcp_blocks||[];o.forEach(c.bind(null,0)),o.push=c.bind(null,o.push.bind(o))})();var n=l.O(void 0,[207],(()=>l(637)));n=l.O(n)})();

/**
 * Shortcode Encoder/Decoder
 */
var WPCP_shortcodeEncode=function(){return function(e){if("string"!=typeof e)throw new Error("WPCP_shortcodeEncode: Input must be a string.");return btoa(new TextEncoder().encode(e).reduce((t,n)=>t+String.fromCharCode(n),""))}}();
var WPCP_shortcodeDecode=function(){return function(e){if("string"!=typeof e)throw new Error("WPCP_shortcodeDecode: Input must be a Base64-encoded string.");return new TextDecoder().decode(Uint8Array.from(atob(e),t=>t.charCodeAt(0)))}}();